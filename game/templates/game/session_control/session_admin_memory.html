{% extends 'game/base.html' %} 
{% block content %} 
{% load static %}

<div class="container">
  <div class="row justify-content-center">
    <div class="col-sm-12 col-md-8 m-5">
      <div class="h1 text-center mb-4">–í–∞—à–∏ Memory üß†</div>
      <form id="memoriesForm" method="post" enctype="multipart/form-data">
        {% csrf_token %} 
        <div class="mb-3">
          <label for="fileInput" class="form-label text-muted"
            >‚¨áÔ∏è –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É —Å Memory. –í—Å–µ memory –Ω–∏–∂–µ –±—É–¥—É—Ç
            –æ–±–Ω–æ–≤–ª–µ–Ω—ã. –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ.</label
          >
          <input
            class="form-control"
            type="file"
            id="fileInput"
            name="file"
            accept=".xlsx, .xls"
          />
        </div>
        <hr />
        <div id="memories_list">
          {% for memory in memories %}
          <div class="mb-3 mt-3 d-flex">
            <input
              type="text"
              class="form-control"              
              name="memory-{{ forloop.counter0 }}"
              id="memory-{{ forloop.counter0 }}"
              style="background-color: rgb(244, 244, 244)"
              maxlength="1000"
              pattern="\S(.*\S)?"
              value="{{ memory.name }}"
              required
            >
            <button class="btn btn-outline-danger ms-2 deleteMemory">‚ùå</button>
          </div>
          {% endfor %}
        </div>
        <div class="d-grid mt-5 mb-2">
          <button class="btn btn-outline-secondary" id="addMemory">
            –î–æ–±–∞–≤–∏—Ç—å Memory
          </button>
        </div>
        <div class="d-grid mb-2">
          <button type="submit" class="btn btn-danger" onclick="Preloader()">
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
          </button>
        </div>
        <div class="d-grid mb-2">
          <a class="btn btn-secondary" href="/game_settings/"
            >–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∏–≥—Ä–µ</a
          >
        </div>
        <div class="d-grid mb-2">
          <a
            class="btn btn-outline-secondary"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#resetGameModal"
          >
            ‚ôªÔ∏è –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É
          </a>
          <div
            class="modal fade"
            id="resetGameModal"
            tabindex="-1"
            aria-labelledby="resetGameModal"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="resetGameModal">
                    –í—ã —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  –í—Å–µ –∑–∞–ø–∏—Å–∏ –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ –Ω—ã–Ω–µ—à–Ω–µ–π –∏–≥—Ä–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ –±—É–¥—É—Ç —Å—Ç–µ—Ä—Ç—ã. –í—Å–µ –∏–≥—Ä–æ–∫–∏
                  –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" id="reset-game">
                    –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É!
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="errorFileModal"
  tabindex="-1"
  aria-labelledby="errorFileModal"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="errorFileModal">
          ‚ö†Ô∏è –§–∞–π–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        –í–∞—à —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ –º—ã –Ω–µ –º–æ–∂–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.
        <a
          href="{% static 'game/memory-demo.xlsx' %}"
          download="memory-demo.xlsx"
          >–°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω</a
        >
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          –°–ø–∞—Å–∏–±–æ
        </button>
      </div>
    </div>
  </div>
</div>

<script src="{% static 'game/js/session/memory.js' %}"></script>

{% endblock %}
